(this["webpackJsonpcomments-app"]=this["webpackJsonpcomments-app"]||[]).push([[0],{14:function(t,e,n){t.exports={comment__list:"styles_comment__list__2DJRD",comment__item:"styles_comment__item__29qP5",comment__text:"styles_comment__text__3-62X",comment__name:"styles_comment__name__2wzGm"}},21:function(t,e,n){t.exports={nav:"styles_nav__2OtNs"}},35:function(t,e,n){t.exports={button:"styles_button__i-s5S"}},37:function(t,e,n){t.exports={container:"app_container__2PYZU"}},68:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),o=n(16),r=n.n(o),s=n(8),m=n(22),i=n(69),u=n(70),j=(n(23),n(35)),b=n.n(j),l=n(17),O=n.n(l),d=n(6),_=Object(d.b)("comment/fetchCommentRequest"),p=Object(d.b)("comment/fetchCommentSuccess"),x=Object(d.b)("comment/fetchCommentError"),f=Object(d.b)("comment/addCommentRequest"),h=Object(d.b)("comment/addCommentSuccess"),g=Object(d.b)("comment/addCommentError");O.a.defaults.baseURL="https://jordan.ashton.fashion/api/goods/30";var v=function(t){return function(e){e(_()),O.a.get("/comments",{params:{page:t}}).then((function(t){var n=t.data;return e(p(n))})).catch((function(t){return e(x(t))}))}},y=n(1);function C(){var t=Object(c.useState)(""),e=Object(m.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)(""),r=Object(m.a)(o,2),j=r[0],l=r[1],d=Object(s.b)(),_=function(t){"text"!==t.currentTarget.name?a(t.currentTarget.value):l(t.currentTarget.value)};return Object(y.jsxs)(i.a,{onSubmit:function(t){t.preventDefault(),d(function(t){var e=t.name,n=t.text;return function(t){var c={name:e,text:n};console.log(JSON.stringify(c)),t(f()),O.a.post("/comments",c).then((function(e){var n=e.data;return t(h(n))})).catch((function(e){return t(g(e))}))}}({name:n,text:j})),a(""),l("")},children:[Object(y.jsxs)(i.a.Group,{controlId:"formBasicEmail",children:[Object(y.jsx)(i.a.Label,{children:"Name"}),Object(y.jsx)(i.a.Control,{type:"text",placeholder:"Name",name:"name",value:n,onChange:_,required:!0}),Object(y.jsx)(i.a.Text,{className:"text-muted"})]}),Object(y.jsxs)(i.a.Group,{controlId:"formBasicPassword",children:[Object(y.jsx)(i.a.Label,{children:"Comment"}),Object(y.jsx)(i.a.Control,{placeholder:"Comment",name:"text",value:j,type:"text",onChange:_,required:!0})]}),Object(y.jsx)(u.a,{className:b.a.button,variant:"primary",type:"submit",children:"Add comment"})]})}var N=n(14),P=n.n(N),S=function(t){return t.comments.items},k=function(t){return t.comments.nextPage},q=function(t){return t.comments.lastPage},E=function(t){return t.comments.totalPage},R=function(){var t=Object(s.b)(),e=Object(s.c)(S);return Object(c.useEffect)((function(){t(v())}),[t]),Object(y.jsx)("ul",{className:P.a.comment__list,children:e.map((function(t){return Object(y.jsxs)("li",{className:P.a.comment__item,children:[Object(y.jsxs)("p",{className:P.a.comment__name,children:[t.name,":"]}),Object(y.jsxs)("p",{className:P.a.comment__text,children:[" ",t.text]})]},t.id)}))})},w=n(36),B=n.n(w),D=n(21),I=n.n(D);var J=function(){var t=Object(s.c)(k),e=Object(s.c)(q),n=Object(s.c)(E),c=Object(s.b)(),a=t<n?t+1:n;return Object(y.jsxs)("div",{className:I.a.nav,children:[Object(y.jsx)(B.a,{activePage:t,itemsCountPerPage:10,totalItemsCount:610,pageRangeDisplayed:5,onChange:function(t){c(v(t))}.bind(this),itemClass:"page-item",linkClass:"page-link"}),e&&Object(y.jsx)(u.a,{className:I.a.nav__button,onClick:function(){c(v(a))},variant:"primary",type:"button",children:"Load more..."})]})},L=n(37),T=n.n(L);var G=function(){return Object(y.jsxs)("div",{className:T.a.container,children:[Object(y.jsx)(C,{}),Object(y.jsx)(R,{}),Object(y.jsx)(J,{})]})},U=n(10),z=n(11),A=Object(d.c)([],Object(U.a)({},p,(function(t,e){return e.payload.data}))),M=Object(d.c)(1,Object(U.a)({},p,(function(t,e){return e.payload.current_page}))),X=Object(d.c)(!1,Object(U.a)({},p,(function(t,e){var n=e.payload;return Boolean(n.next_page_url)}))),Y=Object(d.c)(1,Object(U.a)({},p,(function(t,e){return e.payload.last_page}))),Z=Object(z.b)({items:A,nextPage:M,lastPage:X,totalPage:Y}),F=Object(d.a)({reducer:{comments:Z}});r.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(s.a,{store:F,children:Object(y.jsx)(G,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.40d177e9.chunk.js.map